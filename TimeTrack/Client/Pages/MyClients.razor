@page "/clients"
@using TimeTrack.Shared.ViewModels
@inject HttpClient Http

<PageTitle>My Clients</PageTitle>

<MudText Typo="Typo.h1">My Clients</MudText>

@if (clients is not null && clients.Length > 0)
{
    <MudPaper>
        <MudList>
            @foreach (var client in clients)
            {
                <MudListItem><MudLink Href="@($"/clients/{client.Id}")">@client.Abbreviation</MudLink></MudListItem>
            }
        </MudList>
    </MudPaper>
}

@if (clients is not null && clients.Length == 0)
{
    <MudText>It doesn't look like you have any clients yet. Go to Add Client to get started.</MudText>
}


@code {
    private SummaryClient[]? clients;

    protected override async Task OnInitializedAsync()
    {
        clients = await Http.GetFromJsonAsync<SummaryClient[]>("/api/Clients");
    }
}
