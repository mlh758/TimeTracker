@page "/clients"
@using TimeTrack.Shared.ViewModels
@inject HttpClient Http

<PageTitle>My Clients</PageTitle>

<MudText Typo="Typo.h1">My Clients</MudText>

<MudPaper>
    <MudList>
        @if (clients is not null)
        {
            @foreach (var client in clients)
            {
                <MudListItem><MudLink Href="@($"/clients/{client.Id}")">@client.Abbreviation</MudLink></MudListItem>
            }

        }
    </MudList>
</MudPaper>


@code {
    private SummaryClient[]? clients;

    protected override async Task OnInitializedAsync()
    {
        clients = await Http.GetFromJsonAsync<SummaryClient[]>("/api/Clients");
    }
}
